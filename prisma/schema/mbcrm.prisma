// 医院表
model MbcrmHospital {
  hospitalId   Int      @id @default(autoincrement()) @map("hospital_id") // 医院ID
  userId       Int      @unique @map("user_id") // 关联的用户ID
  hospitalName String   @map("hospital_name") @db.VarChar(100) // 医院名称
  email        String   @db.VarChar(100) // 推送邮箱
  province     String?  @db.VarChar(50) // 省份
  city         String?  @db.VarChar(50) // 城市
  district     String?  @db.VarChar(50) // 区县
  address      String?  @db.VarChar(200) // 详细地址
  phone        String?  @db.VarChar(20) // 咨询电话
  avgPrice     Decimal? @map("avg_price") @db.Decimal(10, 2) // 医院均价
  website      String?  @db.VarChar(100) // 医院网址
  hospitalType Int      @default(0) @map("hospital_type") @db.TinyInt // 医院性质（0:未知 1:民营 2:公立）

  // 就医联系人信息
  contactName   String? @map("contact_name") @db.VarChar(50) // 就医联系人姓名
  contactPhone  String? @map("contact_phone") @db.VarChar(20) // 就医联系人电话
  contactQQ     String? @map("contact_qq") @db.VarChar(20) // 就医联系人QQ
  contactWechat String? @map("contact_wechat") @db.VarChar(50) // 就医联系人微信

  // 前台联系人信息
  frontName   String? @map("front_name") @db.VarChar(50) // 前台联系人姓名
  frontPhone  String? @map("front_phone") @db.VarChar(20) // 前台联系人电话
  frontQQ     String? @map("front_qq") @db.VarChar(20) // 前台联系人QQ
  frontWechat String? @map("front_wechat") @db.VarChar(50) // 前台联系人微信

  // 交通信息
  busStation   String? @map("bus_station") @db.VarChar(100) // 医院公交站台
  busRoute     String? @map("bus_route") @db.Text // 医院详细路线
  metroStation String? @map("metro_station") @db.VarChar(100) // 地铁站台
  metroRoute   String? @map("metro_route") @db.Text // 地铁详细路线

  // 其他信息
  memberDiscount String?  @map("member_discount") @db.Text // 会员优惠
  rebate         Decimal? @db.Decimal(5, 2) // 医院返点
  introduction   String?  @db.Text // 医院介绍（富文本）

  // 系统字段
  status    Int    @default(1) @db.TinyInt // 状态（0停用 1正常）
  createdId Int    @map("created_id") // 创建者ID
  createdBy String @default("") @map("created_by") @db.VarChar(64) // 创建者
  createdAt Int    @default(0) @map("created_at") // 创建时间
  updatedId Int    @default(0) @map("updated_id") // 更新者ID
  updatedBy String @default("") @map("updated_by") @db.VarChar(64) // 更新者
  updatedAt Int?   @map("updated_at") // 更新时间
  deletedAt Int    @default(0) @map("deleted_at") // 删除时间

  // 关联关系
  user SysUser @relation(fields: [userId], references: [userId])

  @@index([hospitalId, userId, hospitalName])
  @@map("mbcrm_hospital")
}
