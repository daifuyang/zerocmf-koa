model MbcrmHospital {
  hospitalId     Int     @id @default(autoincrement()) @map("hospital_id")
  hospitalName   String  @map("hospital_name") @db.VarChar(100)
  email          String? @map("email") @db.VarChar(100)
  province       String? @map("province") @db.VarChar(50)
  city           String? @map("city") @db.VarChar(50)
  district       String? @map("district") @db.VarChar(50)
  address        String? @map("address") @db.VarChar(255)
  phone          String? @map("phone") @db.VarChar(20)
  avgPrice       Float?  @map("avg_price")
  website        String? @map("website") @db.VarChar(100)
  hospitalType   Int     @default(0) @map("hospital_type") @db.TinyInt
  contactName    String? @map("contact_name") @db.VarChar(50)
  contactPhone   String? @map("contact_phone") @db.VarChar(20)
  contactQQ      String? @map("contact_qq") @db.VarChar(20)
  contactWechat  String? @map("contact_wechat") @db.VarChar(50)
  frontName      String? @map("front_name") @db.VarChar(50)
  frontPhone     String? @map("front_phone") @db.VarChar(20)
  frontQQ        String? @map("front_qq") @db.VarChar(20)
  frontWechat    String? @map("front_wechat") @db.VarChar(50)
  busStation     String? @map("bus_station") @db.VarChar(100)
  busRoute       String? @map("bus_route") @db.VarChar(100)
  metroStation   String? @map("metro_station") @db.VarChar(100)
  metroRoute     String? @map("metro_route") @db.VarChar(100)
  memberDiscount String? @map("member_discount") @db.VarChar(100)
  rebate         Float?  @map("rebate")
  introduction   String? @map("introduction") @db.Text
  status         Int     @default(1) @map("status") @db.TinyInt
  createdId      Int     @default(0) @map("created_id")
  createdAt      Int     @default(0) @map("created_at")
  updatedAt      Int     @default(0) @map("updated_at")
  deletedAt      Int     @default(0) @map("deleted_at")

  user       SysUser?        @relation(fields: [createdId], references: [userId])
  dispatches MbcrmDispatch[]

  @@map("mbcrm_hospital")
}

model MbcrmCustomer {
  customerId Int             @id @default(autoincrement()) @map("customer_id")
  memberNo   String          @unique @default(cuid()) @map("member_no") @db.VarChar(36)
  name       String          @db.VarChar(50)
  birthDate  String          @map("birth_date") @db.VarChar(20)
  gender     String          @db.VarChar(10)
  province   String          @db.VarChar(50)
  city       String          @db.VarChar(50)
  district   String          @db.VarChar(50)
  address    String          @db.VarChar(200)
  phone      String?         @db.VarChar(20)
  mobile     String?         @db.VarChar(20)
  wechat     String?         @db.VarChar(50)
  qq         String?         @db.VarChar(20)
  project    String?         @db.VarChar(100)
  status     Int             @default(0) @db.TinyInt
  remark     String?         @db.VarChar(500)
  operatorId Int             @map("operator_id")
  createdId  Int             @map("created_id")
  operator   SysUser         @relation("operator", fields: [operatorId], references: [userId])
  creator    SysUser         @relation("creator", fields: [createdId], references: [userId])
  dispatches MbcrmDispatch[]
  createdBy  String          @default("") @map("created_by") @db.VarChar(64)
  createdAt  Int             @default(0) @map("created_at")
  updatedId  Int             @map("updated_id")
  updatedBy  String          @default("") @map("updated_by") @db.VarChar(64)
  updatedAt  Int?            @map("updated_at")
  deletedAt  Int             @default(0) @map("deleted_at")

  @@map("mbcrm_customer")
}

model MbcrmDispatch {
  dispathId    Int     @id @default(autoincrement())
  dispatchNo   String  @unique @map("dispatch_no") @db.VarChar(191)
  hospitalId   Int     @map("hospital_id")
  customerId   Int     @map("customer_id")
  project      String  @db.VarChar(100)
  dispatchTime Int     @default(0) @map("dispatch_time")
  dispatcherId Int     @map("dispatcher_id")
  status       Int     @default(0) @db.TinyInt
  message      String? @db.Text
  createdId    Int     @map("created_id")
  createdBy    String  @default("") @map("created_by") @db.VarChar(64)
  createdAt    Int     @default(0) @map("created_at")
  updatedId    Int     @default(0) @map("updated_id")
  updatedBy    String  @default("") @map("updated_by") @db.VarChar(64)
  updatedAt    Int?    @map("updated_at")
  deletedAt    Int     @default(0) @map("deleted_at")

  hospital   MbcrmHospital @relation(fields: [hospitalId], references: [hospitalId])
  customer   MbcrmCustomer @relation(fields: [customerId], references: [customerId])
  dispatcher SysUser       @relation("dispatcher", fields: [dispatcherId], references: [userId])

  @@index([hospitalId, customerId, dispatcherId, status], name: "mbcrm_dispatch_hospital_id_customer_id_dispatcher_id_status_idx")
  @@map("mbcrm_dispatch")
}
