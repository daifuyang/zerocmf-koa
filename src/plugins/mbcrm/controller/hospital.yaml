paths:
  /api/v1/admin/hospitals:
    get:
      operationId: getHospitalList
      security:
        - BearerAuth: []
      tags:
        - hospital
      summary: 获取医院列表
      responses:
        '200':
          description: 医院列表
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HospitalListResp'
    post:
      operationId: createHospital
      security:
        - BearerAuth: []
      tags:
        - hospital
      summary: 创建医院
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HospitalInput'
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hospital'

  /api/v1/admin/hospitals/{hospitalId}:
    get:
      operationId: getHospital
      security:
        - BearerAuth: []
      tags:
        - hospital
      summary: 获取单个医院
      parameters:
        - name: hospitalId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 医院详情
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hospital'
    put:
      operationId: updateHospital
      security:
        - BearerAuth: []
      tags:
        - hospital
      summary: 更新医院
      parameters:
        - name: hospitalId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HospitalInput'
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hospital'
    delete:
      operationId: deleteHospital
      security:
        - BearerAuth: []
      tags:
        - hospital
      summary: 删除医院
      parameters:
        - name: hospitalId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 删除成功

components:
  schemas:
    Response:
      type: object
      required:
        - code
        - msg
      properties:
        code:
          type: integer
          description: Response code
          example: 1
        msg:
          type: string
          description: Response message

    Hospital:
      type: object
      properties:
        hospitalId:
          type: integer
          example: 1
        hospitalName:
          type: string
          maxLength: 100
        email:
          type: string
          maxLength: 100
          nullable: true
        province:
          type: string
          maxLength: 50
          nullable: true
        city:
          type: string
          maxLength: 50
          nullable: true
        district:
          type: string
          maxLength: 50
          nullable: true
        address:
          type: string
          maxLength: 255
          nullable: true
        phone:
          type: string
          maxLength: 20
          nullable: true
        avgPrice:
          type: number
          format: float
          nullable: true
        website:
          type: string
          maxLength: 100
          nullable: true
        hospitalType:
          type: integer
          format: int32
        contactName:
          type: string
          maxLength: 50
          nullable: true
        contactPhone:
          type: string
          maxLength: 20
          nullable: true
        contactQQ:
          type: string
          maxLength: 20
          nullable: true
        contactWechat:
          type: string
          maxLength: 50
          nullable: true
        status:
          type: integer
          format: int32
        createdAt:
          type: integer
        updatedAt:
          type: integer
      required:
        - hospitalId
        - hospitalName
        - hospitalType
        - status

    HospitalListResp:
      allOf:
        - $ref: "#/components/schemas/Response"
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/Hospital"

    HospitalInput:
      type: object
      properties:
        hospitalName:
          type: string
          maxLength: 100
        email:
          type: string
          maxLength: 100
          nullable: true
        province:
          type: string
          maxLength: 50
          nullable: true
        city:
          type: string
          maxLength: 50
          nullable: true
        district:
          type: string
          maxLength: 50
          nullable: true
        address:
          type: string
          maxLength: 255
          nullable: true
        phone:
          type: string
          maxLength: 20
          nullable: true
        hospitalType:
          type: integer
          format: int32
      required:
        - hospitalName
        - hospitalType
